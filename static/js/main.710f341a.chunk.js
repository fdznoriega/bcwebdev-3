(this["webpackJsonpbcwebdev-3"]=this["webpackJsonpbcwebdev-3"]||[]).push([[0],{11:function(e,t,s){e.exports={comment_divide:"Post_comment_divide__UOWix",comments_section:"Post_comments_section__zUxlE",comments_header:"Post_comments_header__K8oTG",user:"Post_user__SDGuF",user_text:"Post_user_text__9YRzn",user_date:"Post_user_date__1JNhT"}},15:function(e,t,s){e.exports={text_header:"NewPost_text_header__1JvQ6",form_title:"NewPost_form_title__16I2E",title_input:"NewPost_title_input__21QkB",form_container:"NewPost_form_container__2AtrV"}},20:function(e,t,s){e.exports={profile:"Home_profile__3yTK6",home_title:"Home_home_title__3dMtE"}},27:function(e,t,s){},37:function(e,t,s){},38:function(e,t,s){"use strict";s.r(t);var n=s(1),o=s.n(n),i=s(21),a=s.n(i),c=(s(27),s(10)),r=s(13),l=s(9),d=s.n(l),j=s(4),u=s(0);var b=function(e){var t,s,n=e.post,o=100;e.isFullPost?(t=n.title,s=n.body):(t=n.title.length>o?n.title.substring(0,96)+"...":n.title,s=n.body.length>o?n.body.substring(0,96)+"...":n.body);var i,a=e.likes.count,c=e.comments.length;function r(){e.onLike(n.id)}function l(){e.onUnlike(n.id)}return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:e.isFullPost?d.a.preview_background_expanded:d.a.preview_background,children:[Object(u.jsx)("div",{className:d.a.color_flex_item}),Object(u.jsxs)("div",{className:d.a.content_flex_item,children:[Object(u.jsxs)("section",{children:[Object(u.jsx)("img",{className:d.a.user_image,src:(i=e.user.photo,"/directory-name"+i)}),Object(u.jsx)("b",{children:Object(u.jsx)("p",{className:d.a.title,children:t})})]}),Object(u.jsx)("hr",{className:d.a.title_divide}),Object(u.jsx)("section",{children:Object(u.jsx)("p",{children:s})}),Object(u.jsxs)("section",{children:[Object(u.jsxs)("div",{className:d.a.like_info,children:[Object(u.jsx)("span",{children:a}),e.likes.self?Object(u.jsx)("i",{className:"fas fa-heart",onClick:l}):Object(u.jsx)("i",{className:"far fa-heart",onClick:r})]}),Object(u.jsxs)("div",{className:d.a.comment_info,children:[Object(u.jsx)("span",{children:c}),Object(u.jsx)("i",{className:"fas fa-comment"})]})]})]}),Object(u.jsx)("div",{className:d.a.expand_flex_item,children:function(){if(!e.isFullPost)return Object(u.jsx)(j.b,{to:"/post/"+n.id,children:Object(u.jsx)("i",{className:"fas fa-angle-right fa-2x arrow"})})}()})]})})},m=s(2),f=s(20),x=s.n(f);var h=function(e){var t=e.store.posts,s=Object(m.g)().category;return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:x.a.profile,children:Object(u.jsx)(j.b,{to:"/profile",children:Object(u.jsx)("i",{className:"fas fa-user-circle"})})}),Object(u.jsx)("p",{className:x.a.home_title,children:"Your Feed"}),t.sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)})).filter((function(e){return!s||s.toLowerCase()==e.category.toLowerCase()})).map((function(t){return Object(u.jsx)(b,{user:e.findUser(t),post:t,comments:e.findComments(t),likes:e.findLikes(t),onLike:e.onLike,onUnlike:e.onUnlike,isFullPost:!1},t.id)}))]})},_=s(8),O=s.n(_);var p=function(){return Object(u.jsxs)("nav",{className:O.a.navbar,children:[Object(u.jsxs)("div",{className:O.a.navItem,children:[Object(u.jsx)(j.b,{to:"/",children:Object(u.jsx)("button",{children:Object(u.jsx)("i",{className:"fas fa-home"})})}),Object(u.jsx)("p",{className:O.a.navText,children:"Home"})]}),Object(u.jsxs)("div",{className:O.a.navItem,children:[Object(u.jsx)(j.b,{to:"/newpost",children:Object(u.jsx)("button",{children:Object(u.jsx)("i",{className:"fas fa-plus-square"})})}),Object(u.jsx)("p",{className:O.a.navText,children:"New Post"})]}),Object(u.jsxs)("div",{className:O.a.navItem,children:[Object(u.jsx)(j.b,{to:"/category/water",children:Object(u.jsx)("button",{children:Object(u.jsx)("i",{className:"fas fa-tint"})})}),Object(u.jsx)("p",{className:O.a.navText,children:"Water"})]}),Object(u.jsxs)("div",{className:O.a.navItem,children:[Object(u.jsx)(j.b,{to:"/category/food",children:Object(u.jsx)("button",{children:Object(u.jsx)("i",{className:"fas fa-utensils"})})}),Object(u.jsx)("p",{className:O.a.navText,children:"Food"})]}),Object(u.jsxs)("div",{className:O.a.navItem,children:[Object(u.jsx)(j.b,{to:"/category/housing",children:Object(u.jsx)("button",{children:Object(u.jsx)("i",{className:"fas fa-warehouse"})})}),Object(u.jsx)("p",{className:O.a.navText,children:"Housing"})]})]})},v=s(15),g=s.n(v);var k=function(e){var t=Object(m.f)(),s=Object(n.useState)(""),o=Object(r.a)(s,2),i=o[0],a=o[1],c=Object(n.useState)(""),l=Object(r.a)(c,2),d=l[0],j=l[1],b=Object(n.useState)(""),f=Object(r.a)(b,2),x=f[0],h=f[1],_=Object(n.useState)(""),O=Object(r.a)(_,2);function p(){t.push("/")}return O[0],O[1],Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==i&&""!==d&&""!==x&&(console.log("posting"),e.onPost(i,d,x))},onCancel:p,children:[Object(u.jsx)("p",{className:g.a.form_title,children:"New Post"}),Object(u.jsxs)("div",{className:g.a.form_container,children:[Object(u.jsxs)("label",{children:["Choose a category:",Object(u.jsxs)("select",{value:x,onChange:function(e){h(e.target.value)},children:[Object(u.jsx)("option",{value:"water",children:"Water"}),Object(u.jsx)("option",{value:"food",children:"Food"}),Object(u.jsx)("option",{value:"housing",children:"Housing"})]})]}),Object(u.jsxs)("label",{children:["Title:",Object(u.jsx)("input",{className:g.a.title_input,type:"title",name:"title",placeholder:"title",value:i,onChange:function(e){a(e.target.value)}})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:g.a.text_header,children:"What's Going On?"}),Object(u.jsx)("textarea",{type:"text",name:"text",placeholder:"text",value:d,onChange:function(e){j(e.target.value)}})]}),Object(u.jsx)("input",{type:"submit",value:"Submit"}),Object(u.jsx)("button",{onClick:p,children:"Cancel"})]})]})};var w=function(e){var t,s=Object(m.f)(),n=Object(m.g)().userId;if(n){if(!e.store.users.filter((function(e){return e.id===n}))[0])return s.push("/"),null}else t=e.store.users.filter((function(t){return t.id===e.store.currentUserId}))[0];var o=e.store.posts.filter((function(e){return e.userId===t.id}));return Object(u.jsxs)("div",{children:[Object(u.jsxs)("section",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:t.photo}),Object(u.jsx)("p",{children:t.id})]}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:t.bio})})]}),Object(u.jsxs)("section",{children:["Recent Posts:",o.sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)})).slice(0,3).map((function(s){return Object(u.jsx)(b,{user:t,post:s,comments:e.findComments(s),likes:e.findLikes(s),onLike:e.onLike,onUnlike:e.onUnlike,onComment:e.onComment,isFullPost:!1},s.id)}))]})]})},I=s(11),N=s.n(I);var y=function(e){var t=Object(m.g)().postId;console.log(t);var s=e.store.posts.filter((function(e){return e.id===t}))[0];if(!s)return Object(u.jsx)("p",{children:"404: Could not find post"});var n,o=s,i=function(t){var s=e.store.likes.filter((function(e){return e.postId===t.id}));return{self:s.some((function(t){return t.userId===e.store.currentUserId})),count:s.length}}(o),a=(n=o,e.store.comments.filter((function(e){return e.postId===n.id})));return Object(u.jsxs)("div",{children:[Object(u.jsx)(b,{user:o.userId,post:o,comments:a,likes:i,onLike:e.onLike,onUnlike:e.onUnlike,onComment:e.onComment,isFullPost:!0},o.id),Object(u.jsxs)("div",{className:N.a.comments_section,children:[Object(u.jsx)("hr",{className:N.a.comment_divide}),Object(u.jsx)("p",{className:N.a.comments_header,children:"Comments:"}),a.map((function(e,t){return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{className:N.a.user_image,src:"/assets/default.png"}),Object(u.jsx)("p",{className:N.a.user,children:e.userId}),Object(u.jsx)("p",{className:N.a.user_text,children:e.text}),Object(u.jsx)("p",{className:N.a.user_date,children:e.datetime})]},t)}))]})]})},P=(s(37),"User"),T="Organization",U="Food",C={currentUserId:"anthony",users:[{id:"anthony",email:"anthony@bc.edu",type:P,name:"Anthony Stevens",bio:"",photo:"/assets/default.png",zipcode:"33764"},{id:"bosfoodbank",email:"bosfood@foodbank.org",type:T,name:"The Greater Boston Food Bank",bio:"Together, we can end hunger here",photo:"/assets/default.png",zipcode:"02111"},{id:"saundra",email:"saundra@gmail.com",type:P,name:"Saundra Mills",bio:"",photo:"/assets/default.png",zipcode:"02118"}],posts:[{id:"post-1",userId:"anthony",userType:P,title:"Food banks in the area?",body:"I'm looking for food banks nearby. Does anyone know where I can find one?",category:U,datetime:"2020-02-09T22:45:28Z"},{id:"post-2",userId:"saundra",userType:P,title:"I can't get clean water lately",body:"Does anyone know where I can get free gallons of water?",category:"Water",datetime:"2020-03-09T22:45:28Z"},{id:"post-3",userId:"bosfoodbank",userType:T,title:"We're Relocating!",body:"You can find our new address at our website: https://www.gbfb.org/",category:U,datetime:"2020-04-09T22:45:28Z"}],comments:[{userId:"bosfoodbank",postId:"post-1",text:"Check out our website! https://www.gbfb.org/",datetime:"2020-02-09T22:51:40Z"},{userId:"anthony",postId:"post-1",text:"Thanks!",datetime:"2020-02-09T22:53:40Z"},{userId:"saundra",postId:"post-3",text:"This is a bit far from me now. What's going to happen to the old location?",datetime:"2020-02-09T22:54:40Z"}],likes:[{userId:"anthony",postId:"post-1",datetime:"2020-02-09T22:45:28Z"}]};var L=function(e){var t=(new Date).valueOf().toString(36);return function(e){for(var t=(new Date).getTime(),s=0;s<1e7&&!((new Date).getTime()-t>e);s++);}(1),e?e+t:t};var S=function(){var e=Object(n.useState)(C),t=Object(r.a)(e,2),s=t[0],o=t[1];function i(e){var t={userId:s.currentUserId,postId:e,datetime:(new Date).toISOString()};o(Object(c.a)(Object(c.a)({},s),{},{likes:s.likes.concat(t)}))}function a(e){o(Object(c.a)(Object(c.a)({},s),{},{likes:s.likes.filter((function(t){return!(s.currentUserId===t.userId&&t.postId===e)}))}))}function l(e,t){var n={userId:s.currentUserId,postId:e,text:t,datetime:(new Date).toISOString()};o(Object(c.a)(Object(c.a)({},s),{},{comments:s.comments.concat(n)}))}function d(e){return s.users.filter((function(t){return t.id===e.userId}))[0]}function b(e){return s.comments.filter((function(t){return t.postId===e.id}))}function f(e){var t=s.likes.filter((function(t){return t.postId===e.id}));return{self:t.some((function(e){return e.userId===s.currentUserId})),count:t.length}}return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(j.a,{basename:"/directory-name",children:[Object(u.jsxs)(m.c,{children:[Object(u.jsx)(m.a,{path:"/category/:category?",children:Object(u.jsx)(h,{store:s,onLike:i,onUnlike:a,findUser:d,findLikes:f,findComments:b})}),Object(u.jsx)(m.a,{path:"/newpost",children:Object(u.jsx)(k,{store:s,onPost:function(e,t,n){var i={id:L("post"),userId:s.currentUserId,title:e,body:t,category:n,datetime:(new Date).toISOString()};o(Object(c.a)(Object(c.a)({},s),{},{posts:s.posts.concat(i)}))}})}),Object(u.jsx)(m.a,{path:"/profile/:userId?",children:Object(u.jsx)(w,{store:s,onLike:i,onUnlike:a,findLikes:f,findComments:b})}),Object(u.jsx)(m.a,{path:"/post/:postId?",children:Object(u.jsx)(y,{store:s,onLike:i,onUnlike:a,onComment:l})}),Object(u.jsx)(m.a,{path:"/profile",children:Object(u.jsx)(w,{store:s})}),Object(u.jsx)(m.a,{exact:!0,path:"/",children:Object(u.jsx)(h,{store:s,onLike:i,onUnlike:a,onComment:l,findUser:d,findLikes:f,findComments:b})})]}),Object(u.jsx)(p,{})]})})};a.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root"))},8:function(e,t,s){e.exports={navbar:"Navbar_navbar__31-FB",navItem:"Navbar_navItem__2xPHq",navText:"Navbar_navText__3iYMW"}},9:function(e,t,s){e.exports={preview_background:"PostPreview_preview_background__2J9m_",preview_background_expanded:"PostPreview_preview_background_expanded__O1xHH",user_image:"PostPreview_user_image__oqjgv",title:"PostPreview_title__2QhDq",title_divide:"PostPreview_title_divide__Ytvkf",like_info:"PostPreview_like_info__YOFZR",comment_info:"PostPreview_comment_info__1_feI",color_flex_item:"PostPreview_color_flex_item__1ybdU",content_flex_item:"PostPreview_content_flex_item__1sugn",expand_flex_item:"PostPreview_expand_flex_item__2-XKe"}}},[[38,1,2]]]);
//# sourceMappingURL=main.710f341a.chunk.js.map