(this["webpackJsonpbcwebdev-3"]=this["webpackJsonpbcwebdev-3"]||[]).push([[0],{11:function(e,t,s){e.exports={comment_divide:"Post_comment_divide__UOWix",comments_section:"Post_comments_section__zUxlE",comments_header:"Post_comments_header__K8oTG",user:"Post_user__SDGuF",user_text:"Post_user_text__9YRzn",user_date:"Post_user_date__1JNhT"}},15:function(e,t,s){e.exports={text_header:"NewPost_text_header__1JvQ6",form_title:"NewPost_form_title__16I2E",title_input:"NewPost_title_input__21QkB",form_container:"NewPost_form_container__2AtrV"}},16:function(e,t,s){e.exports={profile:"Profile_profile__3I-Sz",profile_img:"Profile_profile_img__2n22l",profile_recent:"Profile_profile_recent__-Z1BQ"}},21:function(e,t,s){e.exports={profile:"Home_profile__3yTK6",home_title:"Home_home_title__3dMtE"}},28:function(e,t,s){},38:function(e,t,s){},39:function(e,t,s){"use strict";s.r(t);var n=s(1),o=s.n(n),i=s(22),r=s.n(i),a=(s(28),s(10)),c=s(13),l=s(9),d=s.n(l),j=s(4),u=function(e){return"/directory-name"+e},b=s(0);var m=function(e){var t,s,n=e.post,o=100;e.isFullPost?(t=n.title,s=n.body):(t=n.title.length>o?n.title.substring(0,96)+"...":n.title,s=n.body.length>o?n.body.substring(0,96)+"...":n.body);var i=e.likes.count,r=e.comments.length;function a(){e.onLike(n.id)}function c(){e.onUnlike(n.id)}return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:e.isFullPost?d.a.preview_background_expanded:d.a.preview_background,children:[Object(b.jsx)("div",{className:d.a.color_flex_item}),Object(b.jsxs)("div",{className:d.a.content_flex_item,children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("img",{className:d.a.user_image,src:u(e.user.photo)}),Object(b.jsx)("b",{children:Object(b.jsx)("p",{className:d.a.title,children:t})})]}),Object(b.jsx)("hr",{className:d.a.title_divide}),Object(b.jsx)("section",{children:Object(b.jsx)("p",{children:s})}),Object(b.jsxs)("section",{children:[Object(b.jsxs)("div",{className:d.a.like_info,children:[Object(b.jsx)("span",{children:i}),e.likes.self?Object(b.jsx)("i",{className:"fas fa-heart",onClick:c}):Object(b.jsx)("i",{className:"far fa-heart",onClick:a})]}),Object(b.jsxs)("div",{className:d.a.comment_info,children:[Object(b.jsx)("span",{children:r}),Object(b.jsx)("i",{className:"fas fa-comment"})]})]})]}),Object(b.jsx)("div",{className:d.a.expand_flex_item,children:function(){if(!e.isFullPost)return Object(b.jsx)(j.b,{to:"/post/"+n.id,children:Object(b.jsx)("i",{className:"fas fa-angle-right fa-2x arrow"})})}()})]})})},f=s(2),_=s(21),x=s.n(_);var h=function(e){var t=e.store.posts,s=Object(f.g)().category;return Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:x.a.profile,children:Object(b.jsx)(j.b,{to:"/profile",children:Object(b.jsx)("i",{className:"fas fa-user-circle"})})}),Object(b.jsx)("p",{className:x.a.home_title,children:"Your Feed"}),t.sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)})).filter((function(e){return!s||s.toLowerCase()==e.category.toLowerCase()})).map((function(t){return Object(b.jsx)(m,{user:e.findUser(t),post:t,comments:e.findComments(t),likes:e.findLikes(t),onLike:e.onLike,onUnlike:e.onUnlike,isFullPost:!1},t.id)}))]})},p=s(8),O=s.n(p);var v=function(){return Object(b.jsxs)("nav",{className:O.a.navbar,children:[Object(b.jsxs)("div",{className:O.a.navItem,children:[Object(b.jsx)(j.b,{to:"/",children:Object(b.jsx)("button",{children:Object(b.jsx)("i",{className:"fas fa-home"})})}),Object(b.jsx)("p",{className:O.a.navText,children:"Home"})]}),Object(b.jsxs)("div",{className:O.a.navItem,children:[Object(b.jsx)(j.b,{to:"/newpost",children:Object(b.jsx)("button",{children:Object(b.jsx)("i",{className:"fas fa-plus-square"})})}),Object(b.jsx)("p",{className:O.a.navText,children:"New Post"})]}),Object(b.jsxs)("div",{className:O.a.navItem,children:[Object(b.jsx)(j.b,{to:"/category/water",children:Object(b.jsx)("button",{children:Object(b.jsx)("i",{className:"fas fa-tint"})})}),Object(b.jsx)("p",{className:O.a.navText,children:"Water"})]}),Object(b.jsxs)("div",{className:O.a.navItem,children:[Object(b.jsx)(j.b,{to:"/category/food",children:Object(b.jsx)("button",{children:Object(b.jsx)("i",{className:"fas fa-utensils"})})}),Object(b.jsx)("p",{className:O.a.navText,children:"Food"})]}),Object(b.jsxs)("div",{className:O.a.navItem,children:[Object(b.jsx)(j.b,{to:"/category/housing",children:Object(b.jsx)("button",{children:Object(b.jsx)("i",{className:"fas fa-warehouse"})})}),Object(b.jsx)("p",{className:O.a.navText,children:"Housing"})]})]})},g=s(15),k=s.n(g);var w=function(e){var t=Object(f.f)(),s=Object(n.useState)(""),o=Object(c.a)(s,2),i=o[0],r=o[1],a=Object(n.useState)(""),l=Object(c.a)(a,2),d=l[0],j=l[1],u=Object(n.useState)(""),m=Object(c.a)(u,2),_=m[0],x=m[1],h=Object(n.useState)(""),p=Object(c.a)(h,2);function O(){t.push("/")}return p[0],p[1],Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==i&&""!==d&&""!==_&&(console.log("posting"),e.onPost(i,d,_))},onCancel:O,children:[Object(b.jsx)("p",{className:k.a.form_title,children:"New Post"}),Object(b.jsxs)("div",{className:k.a.form_container,children:[Object(b.jsxs)("label",{children:["Choose a category:",Object(b.jsxs)("select",{value:_,onChange:function(e){x(e.target.value)},children:[Object(b.jsx)("option",{value:"water",children:"Water"}),Object(b.jsx)("option",{value:"food",children:"Food"}),Object(b.jsx)("option",{value:"housing",children:"Housing"})]})]}),Object(b.jsxs)("label",{children:["Title:",Object(b.jsx)("input",{className:k.a.title_input,type:"title",name:"title",placeholder:"title",value:i,onChange:function(e){r(e.target.value)}})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("p",{className:k.a.text_header,children:"What's Going On?"}),Object(b.jsx)("textarea",{type:"text",name:"text",placeholder:"text",value:d,onChange:function(e){j(e.target.value)}})]}),Object(b.jsx)("input",{type:"submit",value:"Submit"}),Object(b.jsx)("button",{onClick:O,children:"Cancel"})]})]})},I=s(16),N=s.n(I);var P=function(e){var t,s=Object(f.f)(),n=Object(f.g)().userId;if(n){if(!e.store.users.filter((function(e){return e.id===n}))[0])return s.push("/"),null}else t=e.store.users.filter((function(t){return t.id===e.store.currentUserId}))[0];var o=e.store.posts.filter((function(e){return e.userId===t.id}));return Object(b.jsxs)("div",{className:N.a.profile,children:[Object(b.jsxs)("section",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:t.id}),Object(b.jsx)("img",{className:N.a.profile_img,src:u(t.photo)})]}),Object(b.jsx)("div",{children:Object(b.jsx)("p",{children:"Passionate about helping others. Looking for food banks!"})})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("p",{className:N.a.profile_recent,children:"Recent Posts:"}),o.sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)})).slice(0,3).map((function(s){return Object(b.jsx)(m,{user:t,post:s,comments:e.findComments(s),likes:e.findLikes(s),onLike:e.onLike,onUnlike:e.onUnlike,onComment:e.onComment,isFullPost:!1},s.id)}))]})]})},y=s(11),T=s.n(y);var U=function(e){var t=Object(f.g)().postId;console.log(t);var s=e.store.posts.filter((function(e){return e.id===t}))[0];if(!s)return Object(b.jsx)("p",{children:"404: Could not find post"});var n,o=s,i=function(t){var s=e.store.likes.filter((function(e){return e.postId===t.id}));return{self:s.some((function(t){return t.userId===e.store.currentUserId})),count:s.length}}(o),r=(n=o,e.store.comments.filter((function(e){return e.postId===n.id})));return Object(b.jsxs)("div",{children:[Object(b.jsx)(m,{user:o.userId,post:o,comments:r,likes:i,onLike:e.onLike,onUnlike:e.onUnlike,onComment:e.onComment,isFullPost:!0},o.id),Object(b.jsxs)("div",{className:T.a.comments_section,children:[Object(b.jsx)("hr",{className:T.a.comment_divide}),Object(b.jsx)("p",{className:T.a.comments_header,children:"Comments:"}),r.map((function(e,t){return Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{className:T.a.user_image,src:"/assets/default.png"}),Object(b.jsx)("p",{className:T.a.user,children:e.userId}),Object(b.jsx)("p",{className:T.a.user_text,children:e.text}),Object(b.jsx)("p",{className:T.a.user_date,children:e.datetime})]},t)}))]})]})},C=(s(38),"User"),L="Organization",S="Food",D={currentUserId:"anthony",users:[{id:"anthony",email:"anthony@bc.edu",type:C,name:"Anthony Stevens",bio:"",photo:"/assets/default.png",zipcode:"33764"},{id:"bosfoodbank",email:"bosfood@foodbank.org",type:L,name:"The Greater Boston Food Bank",bio:"Together, we can end hunger here",photo:"/assets/default.png",zipcode:"02111"},{id:"saundra",email:"saundra@gmail.com",type:C,name:"Saundra Mills",bio:"",photo:"/assets/default.png",zipcode:"02118"}],posts:[{id:"post-1",userId:"anthony",userType:C,title:"Food banks in the area?",body:"I'm looking for food banks nearby. Does anyone know where I can find one?",category:S,datetime:"2020-02-09T22:45:28Z"},{id:"post-2",userId:"saundra",userType:C,title:"I can't get clean water lately",body:"Does anyone know where I can get free gallons of water?",category:"Water",datetime:"2020-03-09T22:45:28Z"},{id:"post-3",userId:"bosfoodbank",userType:L,title:"We're Relocating!",body:"You can find our new address at our website: https://www.gbfb.org/",category:S,datetime:"2020-04-09T22:45:28Z"}],comments:[{userId:"bosfoodbank",postId:"post-1",text:"Check out our website! https://www.gbfb.org/",datetime:"2020-02-09T22:51:40Z"},{userId:"anthony",postId:"post-1",text:"Thanks!",datetime:"2020-02-09T22:53:40Z"},{userId:"saundra",postId:"post-3",text:"This is a bit far from me now. What's going to happen to the old location?",datetime:"2020-02-09T22:54:40Z"}],likes:[{userId:"anthony",postId:"post-1",datetime:"2020-02-09T22:45:28Z"}]};var F=function(e){var t=(new Date).valueOf().toString(36);return function(e){for(var t=(new Date).getTime(),s=0;s<1e7&&!((new Date).getTime()-t>e);s++);}(1),e?e+t:t};var Z=function(){var e=Object(n.useState)(D),t=Object(c.a)(e,2),s=t[0],o=t[1];function i(e){var t={userId:s.currentUserId,postId:e,datetime:(new Date).toISOString()};o(Object(a.a)(Object(a.a)({},s),{},{likes:s.likes.concat(t)}))}function r(e){o(Object(a.a)(Object(a.a)({},s),{},{likes:s.likes.filter((function(t){return!(s.currentUserId===t.userId&&t.postId===e)}))}))}function l(e,t){var n={userId:s.currentUserId,postId:e,text:t,datetime:(new Date).toISOString()};o(Object(a.a)(Object(a.a)({},s),{},{comments:s.comments.concat(n)}))}function d(e){return s.users.filter((function(t){return t.id===e.userId}))[0]}function u(e){return s.comments.filter((function(t){return t.postId===e.id}))}function m(e){var t=s.likes.filter((function(t){return t.postId===e.id}));return{self:t.some((function(e){return e.userId===s.currentUserId})),count:t.length}}return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(j.a,{basename:"/directory-name",children:[Object(b.jsxs)(f.c,{children:[Object(b.jsx)(f.a,{path:"/category/:category?",children:Object(b.jsx)(h,{store:s,onLike:i,onUnlike:r,findUser:d,findLikes:m,findComments:u})}),Object(b.jsx)(f.a,{path:"/newpost",children:Object(b.jsx)(w,{store:s,onPost:function(e,t,n){var i={id:F("post"),userId:s.currentUserId,title:e,body:t,category:n,datetime:(new Date).toISOString()};o(Object(a.a)(Object(a.a)({},s),{},{posts:s.posts.concat(i)}))}})}),Object(b.jsx)(f.a,{path:"/profile/:userId?",children:Object(b.jsx)(P,{store:s,onLike:i,onUnlike:r,findLikes:m,findComments:u})}),Object(b.jsx)(f.a,{path:"/post/:postId?",children:Object(b.jsx)(U,{store:s,onLike:i,onUnlike:r,onComment:l})}),Object(b.jsx)(f.a,{path:"/profile",children:Object(b.jsx)(P,{store:s})}),Object(b.jsx)(f.a,{exact:!0,path:"/",children:Object(b.jsx)(h,{store:s,onLike:i,onUnlike:r,onComment:l,findUser:d,findLikes:m,findComments:u})})]}),Object(b.jsx)(v,{})]})})};r.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(Z,{})}),document.getElementById("root"))},8:function(e,t,s){e.exports={navbar:"Navbar_navbar__31-FB",navItem:"Navbar_navItem__2xPHq",navText:"Navbar_navText__3iYMW"}},9:function(e,t,s){e.exports={preview_background:"PostPreview_preview_background__2J9m_",preview_background_expanded:"PostPreview_preview_background_expanded__O1xHH",user_image:"PostPreview_user_image__oqjgv",title:"PostPreview_title__2QhDq",title_divide:"PostPreview_title_divide__Ytvkf",like_info:"PostPreview_like_info__YOFZR",comment_info:"PostPreview_comment_info__1_feI",color_flex_item:"PostPreview_color_flex_item__1ybdU",content_flex_item:"PostPreview_content_flex_item__1sugn",expand_flex_item:"PostPreview_expand_flex_item__2-XKe"}}},[[39,1,2]]]);
//# sourceMappingURL=main.e94a022a.chunk.js.map