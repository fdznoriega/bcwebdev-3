(this["webpackJsonpbcwebdev-3"]=this["webpackJsonpbcwebdev-3"]||[]).push([[0],{12:function(e,t,s){e.exports={comment_divide:"Post_comment_divide__UOWix",comments_section:"Post_comments_section__zUxlE",comments_header:"Post_comments_header__K8oTG",comment:"Post_comment__1cYeu",user:"Post_user__SDGuF",user_image:"Post_user_image__2DTDV",user_text:"Post_user_text__9YRzn",user_date:"Post_user_date__1JNhT"}},14:function(e,t,s){e.exports={profile:"Profile_profile__3I-Sz",username:"Profile_username__2qUJK",profile_img:"Profile_profile_img__2n22l",profile_divide:"Profile_profile_divide__MXr13",profile_recent:"Profile_profile_recent__-Z1BQ"}},16:function(e,t,s){e.exports={text_header:"NewPost_text_header__1JvQ6",form_title:"NewPost_form_title__16I2E",title_input:"NewPost_title_input__21QkB",form_container:"NewPost_form_container__2AtrV"}},17:function(e,t,s){e.exports={profile:"Home_profile__3yTK6",home_title:"Home_home_title__3dMtE",userProfilePicture:"Home_userProfilePicture__oDbvJ"}},28:function(e,t,s){},38:function(e,t,s){},39:function(e,t,s){"use strict";s.r(t);var n=s(1),o=s.n(n),a=s(22),i=s.n(a),r=(s(28),s(11)),c=s(10),l=s(5),d=s.n(l),j=s(2),u=function(e){return"/bcwebdev-3"+e},m=s(0);var b=function(e){var t,s,o=e.post,a=100,i=Object(n.useState)(""),r=Object(c.a)(i,2),l=r[0],b=r[1],f=Object(n.useState)(!1),_=Object(c.a)(f,2),p=_[0],x=_[1];e.isFullPost?(t=o.title,s=o.body):(t=o.title.length>a?o.title.substring(0,96)+"...":o.title,s=o.body.length>a?o.body.substring(0,96)+"...":o.body);var h=e.likes.count,O=e.comments.length;function v(){e.onLike(o.id)}function g(){e.onUnlike(o.id)}function k(){x(!p)}return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:e.isFullPost?d.a.preview_background_expanded:d.a.preview_background,children:[Object(m.jsx)("div",{className:d.a.color_flex_item,children:function(e){switch(console.log(e.category),e.category){case"Housing":return Object(m.jsx)("span",{className:"fas fa-warehouse cat"});case"Water":return Object(m.jsx)("span",{className:"fas fa-tint cat"});case"Food":return Object(m.jsx)("span",{className:"fas fa-utensils cat"})}}(o)}),Object(m.jsxs)("div",{className:d.a.content_flex_item,children:[Object(m.jsxs)("section",{className:d.a.content_header,children:[Object(m.jsx)(j.b,{to:"/profile/"+e.user.id,children:Object(m.jsx)("img",{className:d.a.user_image,src:u(e.user.photo),alt:e.user.id})}),e.isFullPost?Object(m.jsx)("span",{children:o.userId}):null,Object(m.jsx)(j.b,{to:"/post/"+o.id,children:Object(m.jsx)("b",{children:Object(m.jsx)("p",{className:d.a.title_text,children:t})})})]}),Object(m.jsx)("hr",{className:d.a.title_divide}),Object(m.jsx)("section",{children:Object(m.jsx)("p",{children:s})}),Object(m.jsxs)("section",{children:[Object(m.jsxs)("div",{className:d.a.like_info,children:[Object(m.jsx)("span",{className:d.a.count,children:h}),e.likes.self?Object(m.jsx)("i",{className:"fas fa-heart",onClick:g}):Object(m.jsx)("i",{className:"far fa-heart",onClick:v})]}),Object(m.jsxs)("div",{className:d.a.comment_info,children:[Object(m.jsx)("span",{className:d.a.count,children:O}),e.isFullPost?Object(m.jsx)("i",{className:"fas fa-comment",onClick:k}):Object(m.jsx)(j.b,{to:"/post/"+o.id,children:Object(m.jsx)("i",{className:"fas fa-comment",onClick:k})})]})]})]}),Object(m.jsx)("div",{className:d.a.expand_flex_item,children:e.isFullPost?Object(m.jsx)(j.b,{to:"/",children:Object(m.jsx)("i",{className:"fas fa-angle-left fa-2x arrow"})}):Object(m.jsx)(j.b,{to:"/post/"+o.id,children:Object(m.jsx)("i",{className:"fas fa-angle-right fa-2x arrow"})})})]}),p&&Object(m.jsxs)("form",{className:d.a.addComment,onSubmit:function(t){e.onComment(e.post.id,l),b(""),x(!1),t.preventDefault()},children:[Object(m.jsx)("input",{type:"text",placeholder:"Add a comment\u2026",value:l,onChange:function(e){return b(e.target.value)}}),Object(m.jsx)("button",{type:"submit",children:"Post"})]})]})},f=s(3),_=s(17),p=s.n(_);var x=function(e){var t=e.store.posts,s=e.store.users.filter((function(t){return t.id===e.store.currentUserId}))[0];console.log(s);var n=Object(f.g)().category;return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:p.a.profile,children:Object(m.jsx)(j.b,{to:"/profile",children:Object(m.jsx)("img",{src:u(s.photo),className:p.a.userProfilePicture,alt:"profile"})})}),Object(m.jsx)("p",{className:p.a.home_title,children:"Your Feed"}),t.sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)})).filter((function(e){return!n||n.toLowerCase()==e.category.toLowerCase()})).map((function(t){return Object(m.jsx)(b,{user:e.findUser(t),post:t,comments:e.findComments(t),likes:e.findLikes(t),onLike:e.onLike,onUnlike:e.onUnlike,isFullPost:!1},t.id)}))]})},h=s(9),O=s.n(h);var v=function(){return Object(m.jsxs)("nav",{className:O.a.navbar,children:[Object(m.jsxs)("div",{className:O.a.navItem,children:[Object(m.jsx)(j.b,{to:"/",children:Object(m.jsx)("span",{className:"fas fa-home cat"})}),Object(m.jsx)("p",{className:O.a.navText,children:"Home"})]}),Object(m.jsxs)("div",{className:O.a.navItem,children:[Object(m.jsx)(j.b,{to:"/newpost",children:Object(m.jsx)("span",{className:"fas fa-plus-square cat"})}),Object(m.jsx)("p",{className:O.a.navText,children:"New Post"})]}),Object(m.jsxs)("div",{className:O.a.navItem,children:[Object(m.jsx)(j.b,{to:"/category/water",children:Object(m.jsx)("span",{className:"fas fa-tint cat"})}),Object(m.jsx)("p",{className:O.a.navText,children:"Water"})]}),Object(m.jsxs)("div",{className:O.a.navItem,children:[Object(m.jsx)(j.b,{to:"/category/food",children:Object(m.jsx)("span",{className:"fas fa-utensils cat"})}),Object(m.jsx)("p",{className:O.a.navText,children:"Food"})]}),Object(m.jsxs)("div",{className:O.a.navItem,children:[Object(m.jsx)(j.b,{to:"/category/housing",children:Object(m.jsx)("span",{className:"fas fa-warehouse cat"})}),Object(m.jsx)("p",{className:O.a.navText,children:"Housing"})]})]})},g=s(16),k=s.n(g);var w=function(e){var t=Object(f.f)(),s=Object(n.useState)(""),o=Object(c.a)(s,2),a=o[0],i=o[1],r=Object(n.useState)(""),l=Object(c.a)(r,2),d=l[0],j=l[1],u=Object(n.useState)("Water"),b=Object(c.a)(u,2),_=b[0],p=b[1];function x(){t.push("/")}return Object(m.jsxs)("form",{onSubmit:function(s){s.preventDefault(),""!==a&&""!==d&&""!==_&&(console.log("posting and sending home"),e.onPost(a,d,_),t.push("/"))},onCancel:x,children:[Object(m.jsx)("p",{className:k.a.form_title,children:"New Post"}),Object(m.jsxs)("div",{className:k.a.form_container,children:[Object(m.jsxs)("label",{children:["Choose a category:",Object(m.jsxs)("select",{value:_,onChange:function(e){p(e.target.value)},children:[Object(m.jsx)("option",{value:"Water",children:"Water"}),Object(m.jsx)("option",{value:"Food",children:"Food"}),Object(m.jsx)("option",{value:"Housing",children:"Housing"})]})]}),Object(m.jsxs)("label",{children:["Title:",Object(m.jsx)("input",{className:k.a.title_input,type:"title",name:"title",placeholder:"title",value:a,onChange:function(e){i(e.target.value)}})]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("p",{className:k.a.text_header,children:"What's Going On?"}),Object(m.jsx)("textarea",{type:"text",name:"text",placeholder:"text",value:d,onChange:function(e){j(e.target.value)}})]}),Object(m.jsx)("input",{type:"submit",value:"Submit"}),Object(m.jsx)("button",{onClick:x,children:"Cancel"})]})]})},N=s(14),P=s.n(N);var I=function(e){var t,s=Object(f.f)(),n=Object(f.g)().userId;if(n){var o=e.store.users.filter((function(e){return e.id===n}))[0];if(!o)return s.push("/"),null;t=o}else t=e.store.users.filter((function(t){return t.id===e.store.currentUserId}))[0];var a=e.store.posts.filter((function(e){return e.userId===t.id}));return Object(m.jsxs)("div",{className:P.a.profile,children:[Object(m.jsxs)("section",{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:P.a.username,children:t.id}),Object(m.jsx)("img",{className:P.a.profile_img,src:u(t.photo)})]}),Object(m.jsx)("div",{children:Object(m.jsx)("p",{children:t.bio})})]}),Object(m.jsx)("hr",{className:P.a.profile_divide}),Object(m.jsxs)("section",{children:[Object(m.jsx)("p",{className:P.a.profile_recent,children:"Recent Posts:"}),a.sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)})).slice(0,3).map((function(s){return Object(m.jsx)(b,{user:t,post:s,comments:e.findComments(s),likes:e.findLikes(s),onLike:e.onLike,onUnlike:e.onUnlike,onComment:e.onComment,isFullPost:!1},s.id)}))]})]})},y=s(12),T=s.n(y);var C=function(e){var t=Object(f.g)().postId,s=e.store.posts.filter((function(e){return e.id===t}))[0];if(!s)return Object(m.jsx)("p",{children:"404: Could not find post"});var n=s,o=e.findUser(n),a=e.findLikes(n),i=e.findComments(n);function r(e){var t=new Date(e);return Object(m.jsx)("span",{children:t.toDateString()})}return Object(m.jsxs)("div",{children:[Object(m.jsx)(b,{user:o,post:n,comments:i,likes:a,onLike:e.onLike,onUnlike:e.onUnlike,onComment:e.onComment,isFullPost:!0},n.id),0===i.length?null:Object(m.jsxs)("div",{className:T.a.comments_section,children:[Object(m.jsx)("hr",{className:T.a.comment_divide}),i.map((function(t,s){var n=e.store.users.filter((function(e){return e.id===t.userId}))[0];return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:T.a.comment,children:Object(m.jsxs)(j.b,{to:"/profile/"+n.id,children:[Object(m.jsx)("img",{className:T.a.user_image,src:u(n.photo)}),Object(m.jsxs)("b",{children:[" ",Object(m.jsx)("p",{className:T.a.user,children:n.id})," "]})]})}),Object(m.jsx)("p",{className:T.a.user_text,children:t.text}),Object(m.jsx)("p",{className:T.a.user_date,children:r(t.datetime)})]},s)}))]})]})},U=(s(38),"User"),L="Organization",S="Food",D={currentUserId:"anthony",users:[{id:"anthony",email:"anthony@bc.edu",type:U,name:"Anthony Stevens",bio:"Passionate about helping others.",photo:"/assets/anthony.png",zipcode:"02109"},{id:"bosfoodbank",email:"bosfood@foodbank.org",type:L,name:"The Greater Boston Food Bank",bio:"Together, we can end hunger.",photo:"/assets/foodbank.png",zipcode:"02111"},{id:"saundra",email:"saundra@gmail.com",type:U,name:"Saundra Mills",bio:"Mother of three. Here to learn and inspire others.",photo:"/assets/saundra.png",zipcode:"02118"},{id:"miguel",email:"mig@gmail.com",type:U,name:"Miguel Marcos",bio:"Hello there!",photo:"/assets/default.png",zipcode:"02131"}],posts:[{id:"post-1",userId:"anthony",userType:U,title:"Food banks in the area?",body:"I'm looking for food banks nearby. Does anyone know where I can find one?",category:S,datetime:"2021-02-09T22:45:28Z"},{id:"post-2",userId:"saundra",userType:U,title:"I can't get clean water lately",body:"Does anyone know where I can get free gallons of water?",category:"Water",datetime:"2021-03-09T22:45:28Z"},{id:"post-3",userId:"bosfoodbank",userType:L,title:"We're Relocating!",body:"You can find our new address at our website: https://www.gbfb.org/",category:S,datetime:"2021-04-09T22:45:28Z"},{id:"post-4",userId:"miguel",userType:U,title:"Good housing nearby",body:"I'm moving to Boston to take care of my family members. Does anyone know where I can find safe, affordable housing?",category:"Housing",datetime:"2021-04-15T22:45:28Z"}],comments:[{userId:"bosfoodbank",postId:"post-1",text:"Check out our website! https://www.gbfb.org/",datetime:"2021-02-09T22:51:40Z"},{userId:"anthony",postId:"post-1",text:"Thanks!",datetime:"2021-02-09T22:53:40Z"},{userId:"saundra",postId:"post-3",text:"This is a bit far from me now. What's going to happen to the old location?",datetime:"2021-02-09T22:54:40Z"},{userId:"saundra",postId:"post-4",text:"Let me know if you find anything!",datetime:"2021-04-16T22:54:40Z"}],likes:[{userId:"anthony",postId:"post-1",datetime:"2021-02-09T22:45:28Z"},{userId:"saundra",postId:"post-4",datetime:"2021-04-16T22:45:28Z"}]};var F=function(e){var t=(new Date).valueOf().toString(36);return function(e){for(var t=(new Date).getTime(),s=0;s<1e7&&!((new Date).getTime()-t>e);s++);}(1),e?e+t:t};var H=function(){var e=Object(n.useState)(D),t=Object(c.a)(e,2),s=t[0],o=t[1];function a(e){var t={userId:s.currentUserId,postId:e,datetime:(new Date).toISOString()};o(Object(r.a)(Object(r.a)({},s),{},{likes:s.likes.concat(t)}))}function i(e){o(Object(r.a)(Object(r.a)({},s),{},{likes:s.likes.filter((function(t){return!(s.currentUserId===t.userId&&t.postId===e)}))}))}function l(e,t){var n={userId:s.currentUserId,postId:e,text:t,datetime:(new Date).toISOString()};o(Object(r.a)(Object(r.a)({},s),{},{comments:s.comments.concat(n)}))}function d(e){return s.users.filter((function(t){return t.id===e.userId}))[0]}function u(e){return s.comments.filter((function(t){return t.postId===e.id}))}function b(e){var t=s.likes.filter((function(t){return t.postId===e.id}));return{self:t.some((function(e){return e.userId===s.currentUserId})),count:t.length}}return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(j.a,{basename:"/bcwebdev-3",children:[Object(m.jsxs)(f.c,{children:[Object(m.jsx)(f.a,{path:"/category/:category?",children:Object(m.jsx)(x,{store:s,onLike:a,onUnlike:i,findUser:d,findLikes:b,findComments:u})}),Object(m.jsx)(f.a,{path:"/newpost",children:Object(m.jsx)(w,{store:s,onPost:function(e,t,n){var a={id:F("post"),userId:s.currentUserId,title:e,body:t,category:n,datetime:(new Date).toISOString()};o(Object(r.a)(Object(r.a)({},s),{},{posts:s.posts.concat(a)}))}})}),Object(m.jsx)(f.a,{path:"/profile/:userId?",children:Object(m.jsx)(I,{store:s,onLike:a,onUnlike:i,findLikes:b,findComments:u})}),Object(m.jsx)(f.a,{path:"/post/:postId?",children:Object(m.jsx)(C,{store:s,onLike:a,onUnlike:i,onComment:l,findUser:d,findLikes:b,findComments:u})}),Object(m.jsx)(f.a,{path:"/profile",children:Object(m.jsx)(I,{store:s})}),Object(m.jsx)(f.a,{exact:!0,path:"/",children:Object(m.jsx)(x,{store:s,onLike:a,onUnlike:i,onComment:l,findUser:d,findLikes:b,findComments:u})})]}),Object(m.jsx)(v,{})]})})};i.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(H,{})}),document.getElementById("root"))},5:function(e,t,s){e.exports={count:"PostPreview_count__qLjEF",preview_background:"PostPreview_preview_background__2J9m_",preview_background_expanded:"PostPreview_preview_background_expanded__O1xHH",content_header:"PostPreview_content_header__1iUQ3",user_image:"PostPreview_user_image__oqjgv",title_text:"PostPreview_title_text__TRymi",title_divide:"PostPreview_title_divide__Ytvkf",like_info:"PostPreview_like_info__YOFZR",comment_info:"PostPreview_comment_info__1_feI",color_flex_item:"PostPreview_color_flex_item__1ybdU",content_flex_item:"PostPreview_content_flex_item__1sugn",expand_flex_item:"PostPreview_expand_flex_item__2-XKe"}},9:function(e,t,s){e.exports={navbar:"Navbar_navbar__31-FB",navItem:"Navbar_navItem__2xPHq",navText:"Navbar_navText__3iYMW"}}},[[39,1,2]]]);
//# sourceMappingURL=main.7a03401f.chunk.js.map