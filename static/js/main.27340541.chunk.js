(this["webpackJsonpbcwebdev-3"]=this["webpackJsonpbcwebdev-3"]||[]).push([[0],{11:function(e,t,n){e.exports={comment_divide:"Post_comment_divide__UOWix",comments_section:"Post_comments_section__zUxlE",comments_header:"Post_comments_header__K8oTG",user:"Post_user__SDGuF",user_text:"Post_user_text__9YRzn",user_date:"Post_user_date__1JNhT"}},15:function(e,t,n){e.exports={text_header:"NewPost_text_header__1JvQ6",form_title:"NewPost_form_title__16I2E",title_input:"NewPost_title_input__21QkB",form_container:"NewPost_form_container__2AtrV"}},22:function(e,t,n){e.exports={home_title:"Home_home_title__3dMtE"}},27:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var s=n(1),o=n.n(s),i=n(20),a=n.n(i),c=(n(27),n(10)),r=n(13),d=n(9),l=n.n(d),j=n(4),u=function(e){return"/bcwebdev-3"+e},b=n(0);var m=function(e){var t,n,s=e.post,o=100;e.isFullPost?(t=s.title,n=s.body):(t=s.title.length>o?s.title.substring(0,96)+"...":s.title,n=s.body.length>o?s.body.substring(0,96)+"...":s.body);var i=e.likes.count,a=e.comments.length;function c(){e.onLike(s.id)}function r(){e.onUnlike(s.id)}return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:e.isFullPost?l.a.preview_background_expanded:l.a.preview_background,children:[Object(b.jsx)("div",{className:l.a.color_flex_item}),Object(b.jsxs)("div",{className:l.a.content_flex_item,children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("img",{className:l.a.user_image,src:u(e.user.photo)}),Object(b.jsx)("b",{children:Object(b.jsx)("p",{className:l.a.title,children:t})})]}),Object(b.jsx)("hr",{className:l.a.title_divide}),Object(b.jsx)("section",{children:Object(b.jsx)("p",{children:n})}),Object(b.jsxs)("section",{children:[Object(b.jsxs)("div",{className:l.a.like_info,children:[Object(b.jsx)("span",{children:i}),e.likes.self?Object(b.jsx)("i",{className:"fas fa-heart",onClick:r}):Object(b.jsx)("i",{className:"far fa-heart",onClick:c})]}),Object(b.jsxs)("div",{className:l.a.comment_info,children:[Object(b.jsx)("span",{children:a}),Object(b.jsx)("i",{className:"fas fa-comment"})]})]})]}),Object(b.jsx)("div",{className:l.a.expand_flex_item,children:function(){if(!e.isFullPost)return Object(b.jsx)(j.b,{to:"/post/"+s.id,children:Object(b.jsx)("i",{className:"fas fa-angle-right fa-2x arrow"})})}()})]})})},f=n(2),x=n(22),h=n.n(x);var _=function(e){var t=e.store.posts,n=Object(f.g)().category;return Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:h.a.home_title,children:"Your Feed"}),t.sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)})).filter((function(e){return!n||n.toLowerCase()==e.category.toLowerCase()})).map((function(t){return Object(b.jsx)(m,{user:e.findUser(t),post:t,comments:e.findComments(t),likes:e.findLikes(t),onLike:e.onLike,onUnlike:e.onUnlike,isFullPost:!1},t.id)}))]})},O=n(8),p=n.n(O);var v=function(){return Object(b.jsxs)("nav",{className:p.a.navbar,children:[Object(b.jsxs)("div",{className:p.a.navItem,children:[Object(b.jsx)(j.b,{to:"/",children:Object(b.jsx)("button",{children:Object(b.jsx)("i",{className:"fas fa-home"})})}),Object(b.jsx)("p",{className:p.a.navText,children:"Home"})]}),Object(b.jsxs)("div",{className:p.a.navItem,children:[Object(b.jsx)(j.b,{to:"/newpost",children:Object(b.jsx)("button",{children:Object(b.jsx)("i",{className:"fas fa-plus-square"})})}),Object(b.jsx)("p",{className:p.a.navText,children:"New Post"})]}),Object(b.jsxs)("div",{className:p.a.navItem,children:[Object(b.jsx)(j.b,{to:"/category/water",children:Object(b.jsx)("button",{children:Object(b.jsx)("i",{className:"fas fa-tint"})})}),Object(b.jsx)("p",{className:p.a.navText,children:"Water"})]}),Object(b.jsxs)("div",{className:p.a.navItem,children:[Object(b.jsx)(j.b,{to:"/category/food",children:Object(b.jsx)("button",{children:Object(b.jsx)("i",{className:"fas fa-utensils"})})}),Object(b.jsx)("p",{className:p.a.navText,children:"Food"})]}),Object(b.jsxs)("div",{className:p.a.navItem,children:[Object(b.jsx)(j.b,{to:"/category/housing",children:Object(b.jsx)("button",{children:Object(b.jsx)("i",{className:"fas fa-warehouse"})})}),Object(b.jsx)("p",{className:p.a.navText,children:"Housing"})]})]})},g=n(15),k=n.n(g);var w=function(e){var t=Object(f.f)(),n=Object(s.useState)(""),o=Object(r.a)(n,2),i=o[0],a=o[1],c=Object(s.useState)(""),d=Object(r.a)(c,2),l=d[0],j=d[1],u=Object(s.useState)(""),m=Object(r.a)(u,2),x=m[0],h=m[1];function _(){t.push("/")}return Object(b.jsxs)("form",{onSubmit:function(n){n.preventDefault(),""!==i&&""!==l&&""!==x&&(console.log("posting"),e.onPost(i,l,x),t.push("/"))},onCancel:_,children:[Object(b.jsx)("p",{className:k.a.form_title,children:"New Post"}),Object(b.jsxs)("div",{className:k.a.form_container,children:[Object(b.jsxs)("label",{children:["Choose a category:",Object(b.jsxs)("select",{value:x,onChange:function(e){h(e.target.value)},children:[Object(b.jsx)("option",{value:"water",children:"Water"}),Object(b.jsx)("option",{value:"food",children:"Food"}),Object(b.jsx)("option",{value:"housing",children:"Housing"})]})]}),Object(b.jsxs)("label",{children:["Title:",Object(b.jsx)("input",{className:k.a.title_input,type:"title",name:"title",placeholder:"title",value:i,onChange:function(e){a(e.target.value)}})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("p",{className:k.a.text_header,children:"What's Going On?"}),Object(b.jsx)("textarea",{type:"text",name:"text",placeholder:"text",value:l,onChange:function(e){j(e.target.value)}})]}),Object(b.jsx)("input",{type:"submit",value:"Submit"}),Object(b.jsx)("button",{onClick:_,children:"Cancel"})]})]})};var I=function(e){var t,n=Object(f.f)(),s=Object(f.g)().userId;if(s){if(!e.store.users.filter((function(e){return e.id===s}))[0])return n.push("/"),null}else t=e.store.users.filter((function(t){return t.id===e.store.currentUserId}))[0];var o=e.store.posts.filter((function(e){return e.userId===t.id}));return Object(b.jsxs)("div",{children:[Object(b.jsxs)("section",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:t.photo}),Object(b.jsx)("p",{children:t.id})]}),Object(b.jsx)("div",{children:Object(b.jsx)("p",{children:t.bio})})]}),Object(b.jsxs)("section",{children:["Recent Posts:",o.sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)})).slice(0,3).map((function(n){return Object(b.jsx)(m,{user:t,post:n,comments:e.findComments(n),likes:e.findLikes(n),onLike:e.onLike,onUnlike:e.onUnlike,onComment:e.onComment,isFullPost:!1},n.id)}))]})]})},N=n(11),y=n.n(N);var P=function(e){var t=Object(f.g)().postId;console.log(t);var n=e.store.posts.filter((function(e){return e.id===t}))[0];if(!n)return Object(b.jsx)("p",{children:"404: Could not find post"});var s,o=n,i=function(t){var n=e.store.likes.filter((function(e){return e.postId===t.id}));return{self:n.some((function(t){return t.userId===e.store.currentUserId})),count:n.length}}(o),a=(s=o,e.store.comments.filter((function(e){return e.postId===s.id})));return Object(b.jsxs)("div",{children:[Object(b.jsx)(m,{user:o.userId,post:o,comments:a,likes:i,onLike:e.onLike,onUnlike:e.onUnlike,onComment:e.onComment,isFullPost:!0},o.id),Object(b.jsxs)("div",{className:y.a.comments_section,children:[Object(b.jsx)("hr",{className:y.a.comment_divide}),Object(b.jsx)("p",{className:y.a.comments_header,children:"Comments:"}),a.map((function(e,t){return Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{className:y.a.user_image,src:u("/assets/default.png")}),Object(b.jsx)("p",{className:y.a.user,children:e.userId}),Object(b.jsx)("p",{className:y.a.user_text,children:e.text}),Object(b.jsx)("p",{className:y.a.user_date,children:e.datetime})]},t)}))]})]})},T=(n(37),"User"),U="Organization",C="Food",L={currentUserId:"anthony",users:[{id:"anthony",email:"anthony@bc.edu",type:T,name:"Anthony Stevens",bio:"",photo:"/assets/default.png",zipcode:"33764"},{id:"bosfoodbank",email:"bosfood@foodbank.org",type:U,name:"The Greater Boston Food Bank",bio:"Together, we can end hunger here",photo:"/assets/default.png",zipcode:"02111"},{id:"saundra",email:"saundra@gmail.com",type:T,name:"Saundra Mills",bio:"",photo:"/assets/default.png",zipcode:"02118"}],posts:[{id:"post-1",userId:"anthony",userType:T,title:"Food banks in the area?",body:"I'm looking for food banks nearby. Does anyone know where I can find one?",category:C,datetime:"2020-02-09T22:45:28Z"},{id:"post-2",userId:"saundra",userType:T,title:"I can't get clean water lately",body:"Does anyone know where I can get free gallons of water?",category:"Water",datetime:"2020-03-09T22:45:28Z"},{id:"post-3",userId:"bosfoodbank",userType:U,title:"We're Relocating!",body:"You can find our new address at our website: https://www.gbfb.org/",category:C,datetime:"2020-04-09T22:45:28Z"}],comments:[{userId:"bosfoodbank",postId:"post-1",text:"Check out our website! https://www.gbfb.org/",datetime:"2020-02-09T22:51:40Z"},{userId:"anthony",postId:"post-1",text:"Thanks!",datetime:"2020-02-09T22:53:40Z"},{userId:"saundra",postId:"post-3",text:"This is a bit far from me now. What's going to happen to the old location?",datetime:"2020-02-09T22:54:40Z"}],likes:[{userId:"anthony",postId:"post-1",datetime:"2020-02-09T22:45:28Z"}]};var S=function(e){var t=(new Date).valueOf().toString(36);return function(e){for(var t=(new Date).getTime(),n=0;n<1e7&&!((new Date).getTime()-t>e);n++);}(1),e?e+t:t};var D=function(){var e=Object(s.useState)(L),t=Object(r.a)(e,2),n=t[0],o=t[1];function i(e){var t={userId:n.currentUserId,postId:e,datetime:(new Date).toISOString()};o(Object(c.a)(Object(c.a)({},n),{},{likes:n.likes.concat(t)}))}function a(e){o(Object(c.a)(Object(c.a)({},n),{},{likes:n.likes.filter((function(t){return!(n.currentUserId===t.userId&&t.postId===e)}))}))}function d(e,t){var s={userId:n.currentUserId,postId:e,text:t,datetime:(new Date).toISOString()};o(Object(c.a)(Object(c.a)({},n),{},{comments:n.comments.concat(s)}))}function l(e){return n.users.filter((function(t){return t.id===e.id}))}function u(e){return n.comments.filter((function(t){return t.postId===e.id}))}function m(e){var t=n.likes.filter((function(t){return t.postId===e.id}));return{self:t.some((function(e){return e.userId===n.currentUserId})),count:t.length}}return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(j.a,{basename:"/bcwebdev-3",children:[Object(b.jsxs)(f.c,{children:[Object(b.jsx)(f.a,{path:"/category/:category?",children:Object(b.jsx)(_,{store:n,onLike:i,onUnlike:a,findUser:l,findLikes:m,findComments:u})}),Object(b.jsx)(f.a,{path:"/newpost",children:Object(b.jsx)(w,{store:n,onPost:function(e,t,s){var i={id:S(),userId:n.currentUserId,title:e,body:t,category:s,datetime:(new Date).toISOString()};o(Object(c.a)(Object(c.a)({},n),{},{posts:n.posts.concat(i)}))}})}),Object(b.jsx)(f.a,{path:"/profile/:userId?",children:Object(b.jsx)(I,{store:n,onLike:i,onUnlike:a,findLikes:m,findComments:u})}),Object(b.jsx)(f.a,{path:"/post/:postId?",children:Object(b.jsx)(P,{store:n,onLike:i,onUnlike:a,onComment:d})}),Object(b.jsx)(f.a,{exact:!0,path:"/",children:Object(b.jsx)(_,{store:n,onLike:i,onUnlike:a,onComment:d,findUser:l,findLikes:m,findComments:u})})]}),Object(b.jsx)(v,{})]})})};a.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root"))},8:function(e,t,n){e.exports={navbar:"Navbar_navbar__31-FB",navItem:"Navbar_navItem__2xPHq",navText:"Navbar_navText__3iYMW"}},9:function(e,t,n){e.exports={preview_background:"PostPreview_preview_background__2J9m_",preview_background_expanded:"PostPreview_preview_background_expanded__O1xHH",user_image:"PostPreview_user_image__oqjgv",title:"PostPreview_title__2QhDq",title_divide:"PostPreview_title_divide__Ytvkf",like_info:"PostPreview_like_info__YOFZR",comment_info:"PostPreview_comment_info__1_feI",color_flex_item:"PostPreview_color_flex_item__1ybdU",content_flex_item:"PostPreview_content_flex_item__1sugn",expand_flex_item:"PostPreview_expand_flex_item__2-XKe"}}},[[38,1,2]]]);
//# sourceMappingURL=main.27340541.chunk.js.map